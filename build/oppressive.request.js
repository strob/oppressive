var OP={Objection:function(b,c){this._id=b;for(var a in c)this[a]=c[a];OP.Subjectification.obj[this._id]=this}};OP.Objection.prototype.get=function(b){return OP.Subjectification.obj[this[b]]};OP.Objection.prototype.getAll=function(b){var c=this;return(this[b]||[]).map(function(a){return c.get(a)})};OP.Objection.prototype.getDoc=function(){var b={},c;for(c in this)this.hasOwnProperty(c)&&"_id"!==c&&(b[c]=this[c]);return b};OP.Objection.prototype.save=function(){};
OP.Subjectification={obj:{},all:function(b){var c=[],a;for(a in OP.Subjectification.obj)OP.Subjectification.obj[a]instanceof b&&c.push(OP.Subjectification.obj[a]);return c}};OP.ready=function(b){b(OP)};OP.Subjectification.load=function(b,c){var a=0,d;for(d in b)a+=1,function(b){OP.UTIL.loadJson(d+".json",function(d){for(var e in d)new b(e,d[e]);a-=1;0===a&&c()})}(b[d])};OP.UTIL={};OP.UTIL.load=function(b,c){var a=new XMLHttpRequest;a.open("GET",b,!0);a.onreadystatechange=function(){4==a.readyState&&(200==a.status?c(a.responseText):(console.log("error loading "+b,a.status),c("{}")))};a.send()};OP.UTIL.loadJson=function(b,c){OP.UTIL.load(b,function(a){c(JSON.parse(a))})};
